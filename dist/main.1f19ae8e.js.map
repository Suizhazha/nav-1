{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","console","log","push","toUpperCase","onbeforeunload","string","stringify","setItem","document","key","i","length","toLowerCase"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"../src","sourcesContent":["const $siteList = $(\".siteList\");\n\nconst $lastLi = $siteList.find(\"li.last\");\n\nconst x = localStorage.getItem(\"x\");\n\nconst xObject = JSON.parse(x);\nconst hashMap = xObject || [\n  ({\n    logo: \"J\",\n    url: \"https://www.juejin.im\"\n  },\n  {\n    logo: \"J\",\n    url: \"https://www.juejin.im\"\n  })\n];\n\nconst simplifyUrl = url => {\n  return url\n    .replace(\"https://\", \"\")\n    .replace(\"http://\", \"\")\n    .replace(\"www.\", \"\")\n    .replace(/\\/.*/, \"\"); //删除 / 开头的内容\n}; //简化链接\n\nconst render = () => {\n  $siteList.find(\"li:not(.last)\").remove();\n  hashMap.forEach((node, index) => {\n    const $li = $(` <li>\n          <div class=\"site\">\n            <div class=\"logo\">\n              ${node.logo}\n            </div>\n            <div class=\"link\">\n            ${simplifyUrl(node.url)}\n            </div>\n                <div class=\"close\">\n                    <svg class=\"icon\">\n                        <use xlink:href=\"#icon-close\"></use>\n                    </svg>\n                </div>\n          </div>\n      </li>`).insertBefore($lastLi);\n    $li.on(\"click\", () => {\n      window.open(node.url);\n    });\n    //利用JS实现a标签的跳转\n    $li.on(\"click\", \".close\", e => {\n      e.stopPropagation(); //阻止冒泡事件\n      hashMap.splice(index, 1); //删除索引\n      render();\n    });\n  });\n};\n//hashMap遍历生成以下的li\n/*<li>\n          <a href=\"https://www.juejin.im\">\n            <div class=\"site\">\n              <div class=\"logo\">\n                <img src=\"images/juejin.png\" alt=\"掘金\" />\n              </div>\n              <div class=\"link\">juejin.im</div>\n            </div>\n          </a>\n        </li>   \n        */\nrender();\n$(\".addButton\").on(\"click\", () => {\n  let url = window.prompt(\"请问你要添加的网址是什么\");\n  if (url.indexOf(\"http\") != 0) {\n    url = \"https://\" + url;\n  }\n  console.log(url);\n  hashMap.push({\n    logo: simplifyUrl(url)[0].toUpperCase(),\n    //简化为logo首字母，并大写，也可在CSS.logo中text-transform: uppercase;\n    url: url\n  });\n  render();\n});\nwindow.onbeforeunload = () => {\n  const string = JSON.stringify(hashMap);\n  localStorage.setItem(\"x\", string);\n};\n\n$(document).on(\"keypress\", e => {\n  const { key } = e; //相当于const key = e.key\n  for (let i = 0; i < hashMap.length; i++) {\n    if (hashMap[i].logo.toLowerCase() === key) {\n        window.open(hashMap[i].url)\n    }\n  }\n}); //监听键盘事件\n"]}